---
- name: Create necessary directories
  file:
    path: "{{ item }}"
    state: directory
    mode: '0755'
  loop:
    - /home/ldraney/.local/share/nvim/site/autoload
    - /home/ldraney/.config

- name: Remove paths that block symlinks
  file:
    state: absent
    path: /home/ldraney/.config/cheat

- name: Symlinks for some dotfiles
  file:
    src: "/home/ldraney/ldraney/dotfilesWSL/{{ item.src }}"
    dest: "/home/ldraney/{{ item.dest }}"
    state: link
    force: true
  loop:
    - { src: 'tmux/tmux.conf', dest: '.tmux.conf' }
    - { src: 'tmux/tmux/', dest: '.tmux' }
    - { src: 'zsh/', dest: '.zsh' }
    - { src: 'zsh/zshrc', dest: '.zshrc' }
    - { src: 'zsh/oh-my-zsh', dest: '.oh-my-zsh' }
    - { src: 'environment/warprc', dest: '.warprc' }
    - { src: 'customCommands', dest: '.customCommands' }
    - { src: 'git/gitconfig', dest: '.gitconfig' }
    - { src: 'cheat', dest: '.config/cheat' }

- name: Symlinks for neovim
  file:
    src: "/home/ldraney/ldraney/kickstart.nvim/"
    dest: "/home/ldraney/.config/nvim"
    state: link
    force: true

- name: Symlinks for sensitive files
  file:
    src: "/home/ldraney/ldraney/sensitive/{{ item.src }}"
    dest: "/home/ldraney/{{ item.dest }}"
    state: link
    force: true
  loop:
    - { src: 'zsh/zshenv', dest: '.zshenv' }
    - { src: 'ansible/ansible.cfg', dest: '.ansible.cfg' }

